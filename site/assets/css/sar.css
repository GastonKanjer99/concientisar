.sar-demo{display:grid;grid-template-columns:1.15fr 1fr;gap:20px;align-items:stretch}
@media (max-width:900px){.sar-demo{grid-template-columns:1fr}}

.scene{
  position:relative; aspect-ratio:16/9;
  background:#0c1626; border:1px solid var(--border);
  border-radius:20px; overflow:hidden;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.02), 0 10px 40px rgba(0,0,0,.40);
}

.scene.hasimg{
  background-size: cover;
  background-position: center;
  background-color: #000; 
}


.scene::after{
  content:"";
  position:absolute; inset:0; pointer-events:none;
  background:#000;               
  opacity: var(--dim, 0);        
  transition:.2s; z-index:2;
}

.scene.mode-sar::after{ opacity:0 !important; }


.sky{position:absolute;top:10px;left:10px;display:flex;gap:8px;z-index:3}
.tag{padding:4px 10px;border-radius:999px;background:#0a1321d9;color:#d7ffff;font-size:11px;border:1px solid #132538}


.ground{
  position:absolute; left:0; right:0; bottom:0; top:64%;
  display:flex; align-items:flex-end; justify-content:space-evenly; gap:12px; padding:16px;
  z-index:1;
}
.obj{
  width:24%; height:10%; min-height:68px;
  border-radius:14px; display:grid; place-items:center;
  font-size:12px; color:#fff; opacity:.95;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.05), 0 6px 20px rgba(0,0,0,.35);
}
.water{ background:linear-gradient(#0f4572,#0b304d) }
.grass{ background:linear-gradient(#1b5e20,#0f3d13) }
.soil { background:linear-gradient(#6e4b2c,#3d2a19) }

.scene{

  --sweep-y: 58%;          
  --sweep-w: 8deg;         
  --sweep-op: .35;         
}


.sweep{
  position:absolute; inset:0; z-index:0; pointer-events:none;
  mix-blend-mode:screen; opacity:0;
  
  clip-path: inset(0 0 42% 0);
  transform-origin: 50% var(--sweep-y);
  animation: radarSweep 4.8s linear infinite;
  
  background: conic-gradient(
    from 0deg at 50% var(--sweep-y),
    rgba(90,242,195,var(--sweep-op)) 0 var(--sweep-w),
    rgba(90,242,195,0) var(--sweep-w) 360deg
  );
}


.scene.mode-sar .sweep{ opacity: var(--sweep-op); }
.scene:not(.mode-sar) .sweep{ opacity: 0; }

@keyframes radarSweep { to { transform: rotate(360deg); } }



.scene{ --ret-water:.15; --ret-grass:.55; --ret-soil:.75; }
.scene.mode-sar .water{ filter:brightness(calc(var(--ret-water) + .25)); outline:1px solid rgba(90,242,195,.18); }
.scene.mode-sar .grass{ filter:brightness(calc(var(--ret-grass) + .15)); outline:1px solid rgba(90,242,195,.18); }
.scene.mode-sar .soil { filter:brightness(calc(var(--ret-soil)  + .10)); outline:1px solid rgba(90,242,195,.18); }


.panel .toggles{display:flex;flex-wrap:wrap;gap:10px;margin:.6rem 0}
.panel .toggles label{display:flex;align-items:center;gap:6px;font-size:14px}
.panel select{padding:6px 8px;border-radius:10px;background:#0f1a2b;border:1px solid var(--border);color:#cfeee9}


.map-fill{
  position:absolute; inset:0; z-index:0;
  border-radius:20px; overflow:hidden;
  
  pointer-events:none;
  filter: saturate(1.05) contrast(1.02);
}





.tip { position:relative; cursor:default; }
.tip::after{
  content: attr(data-tip);
  position:absolute; left:50%; bottom:100%;
  transform:translate(-50%,-6px);
  background:#0b1220dd; color:#e6fffb; font-size:12px;
  padding:6px 8px; border-radius:10px; border:1px solid var(--border);
  white-space:nowrap; pointer-events:none; opacity:0; transition:.18s;
  box-shadow:0 6px 18px rgba(0,0,0,.35);
}
.tip:hover::after{ opacity:1; transform:translate(-50%,-10px); }

#progress {
  position:fixed; top:0; left:0; height:3px; width:100%;
  transform-origin:left; transform:scaleX(0);
  background:linear-gradient(90deg, var(--accent), #65d2ff);
  z-index:9999;
}
